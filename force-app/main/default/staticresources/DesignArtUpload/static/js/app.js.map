{"version":3,"sources":["webpack:///static/js/app.js","webpack:///./src/App.vue?bb63","webpack:///./src/App.vue?fc6a","webpack:///./src/main.js","webpack:///./src/components/DropZone.vue?fa58","webpack:///./src/services/data.js","webpack:///DropZone.vue","webpack:///./src/components/LoadingAnimation.vue?7e70","webpack:///./src/components/LoadingAnimation.vue?0884","webpack:///./src/components/DropZone.vue?5566","webpack:///App.vue"],"names":["webpackJsonp","B04Q","module","__webpack_exports__","__webpack_require__","render","_vm","this","_h","$createElement","_c","_self","attrs","id","directives","name","rawName","value","expression","_v","staticClass","_s","designRequestName","for","on","change","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","_value","version","multiple","_l","domProps","label","gender","fileDropped","addFile","designs","length","_e","_m","design","Name","height","src","dataURL","type","input","composing","Option_Number__c","checked","isArray","Needs_Pricing__c","_i","__c","$$a","$$el","$$c","$$i","concat","slice","Notes__c","click","deleteDesign","items","item","Product_Code__c","Item_Number_Edit__c","Type","Product_Description__c","disabled","isFormValid","save","toDesignRequest","staticRenderFns","esExports","M93x","injectStyle","ssrContext","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_7dd0b06b_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__","normalizeComponent","__vue_styles__","Component","NHnr","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App__","config","productionTip","el","template","components","App","PRAX","class","dragging","isDragOver","dragover","dragOver","drop","dragenter","dragEnter","dragleave","dragLeave","QevY","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default","__WEBPACK_IMPORTED_MODULE_4_axios__","__WEBPACK_IMPORTED_MODULE_4_axios___default","DataService","sessionId","key","baseURL","axiosInstance","a","create","headers","Authorization","console","log","query","get","then","result","data","records","objectName","ids","explodedIds","x","join","designRequestId","_this","contentVersionPromises","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","next","done","file","formData","FormData","append","Blob","PathOnClient","push","post","err","return","all","results","i","contentVersionId","d","forEach","record","Id","ContentDocumentId","response","designRoundId","totalSize","createDesigns2","designRound","attributes","referenceId","Version__c","Gender__c","Design_Request__c","_this2","requests","compositeRequest","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","method","url","body","Design_Round__c","Content_Version_Id__c","LinkedEntityId","ShareType","Design__c","Custom_Item__c","Standardized_Item__c","instance","RQw1","files","methods","ev","preventDefault","dataTransfer","dropEffect","$emit","b3z3","exports","bb2J","gVh2","kBMt","rwPc","__WEBPACK_IMPORTED_MODULE_0__node_modules_vue_loader_lib_template_compiler_index_id_data_v_fa684fea_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_LoadingAnimation_vue__","vg0r","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_DropZone_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_fc88e9c4_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_DropZone_vue__","xJD8","getParameterByName","window","location","href","replace","regex","RegExp","exec","decodeURIComponent","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default","__WEBPACK_IMPORTED_MODULE_1__services_data__","__WEBPACK_IMPORTED_MODULE_2__components_DropZone__","__WEBPACK_IMPORTED_MODULE_3__components_LoadingAnimation__","versions","imgBaseUrl","isUploading","itemsLoaded","reader","FileReader","addEventListener","readAsDataURL","splice","indexOf","getDesignRequest","designIds","Custom_Items__r","Standardized_Items__r","_item","getContentDocumentLinksByLinkedEntityIds","contentVersionIdByDesignId","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_record","ContentDocument","LatestPublishedVersionId","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","imgUrl","_this3","selectedItems","createDesigns","success","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","compositeResponse","r","errors","alert","computed","reduce","accum","DropZone","LoadingAnimation","created","_this4","setSessionId","__sfdcSessionId","getMetadata","statuses","fields","field","picklistValues","pl","active","y95g"],"mappings":"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","file":"static/js/app.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"B04Q\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('LoadingAnimation',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isUploading),expression:\"isUploading\"}]}),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_c('small',[_vm._v(\"Upload Designs\")]),_vm._v(\"Design Request: \"+_vm._s(_vm.designRequestName))]),_vm._v(\" \"),_c('div',{staticClass:\"gender-version\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"version\"}},[_vm._v(\"Version\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.version),expression:\"version\"}],staticClass:\"form-control\",attrs:{\"id\":\"version\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.version=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.versions),function(version){return _c('option',{domProps:{\"value\":version.value}},[_vm._v(_vm._s(version.label))])}))]),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"version\"}},[_vm._v(\"Gender\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.gender),expression:\"gender\"}],staticClass:\"form-control\",attrs:{\"id\":\"version\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.gender=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"-- select --\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"Boy\"}},[_vm._v(\"Boy\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"Girl\"}},[_vm._v(\"Girl\")])])])]),_vm._v(\" \"),_c('DropZone',{on:{\"fileDropped\":_vm.addFile}}),_vm._v(\" \"),_c('div',{staticClass:\"section-heading\"},[_vm._v(\"Designs\")]),_vm._v(\" \"),(_vm.designs.length === 0)?_c('div',{staticClass:\"empty-table-surrogate\"},[_vm._v(\"\\n    There are no designs yet.\\n  \")]):_vm._e(),_vm._v(\" \"),(_vm.designs.length > 0)?_c('table',{staticClass:\"rbl-table\"},[_vm._m(0),_vm._v(\" \"),_vm._l((_vm.designs),function(design){return _c('tr',[_c('td',[_vm._v(_vm._s(design.Name))]),_vm._v(\" \"),_c('td',[_c('img',{attrs:{\"height\":\"300px\",\"src\":design.dataURL}})]),_vm._v(\" \"),_c('td',{staticClass:\"option-number\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(design.Option_Number__c),expression:\"design.Option_Number__c\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\"},domProps:{\"value\":(design.Option_Number__c)},on:{\"input\":function($event){if($event.target.composing){ return; }design.Option_Number__c=$event.target.value}}})]),_vm._v(\" \"),_c('td',{staticClass:\"needs-pricing\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(design.Needs_Pricing__c),expression:\"design.Needs_Pricing__c\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(design.Needs_Pricing__c)?_vm._i(design.Needs_Pricing__c,null)>-1:(design.Needs_Pricing__c)},on:{\"__c\":function($event){var $$a=design.Needs_Pricing__c,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(design.Needs_Pricing__c=$$a.concat([$$v]))}else{$$i>-1&&(design.Needs_Pricing__c=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{design.Needs_Pricing__c=$$c}}}})]),_vm._v(\" \"),_c('td',[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(design.Notes__c),expression:\"design.Notes__c\"}],staticClass:\"form-control\",domProps:{\"value\":(design.Notes__c)},on:{\"input\":function($event){if($event.target.composing){ return; }design.Notes__c=$event.target.value}}})]),_vm._v(\" \"),_c('td',[_c('button',{staticClass:\"rbl-btn rbl-btn-primary\",on:{\"click\":function($event){_vm.deleteDesign(design)}}},[_vm._v(\"Delete\")])])])})],2):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"section-heading\"},[_vm._v(\"Items\")]),_vm._v(\" \"),(_vm.items.length === 0)?_c('div',{staticClass:\"empty-table-surrogate\"},[_vm._v(\"\\n    There are no items on the Design Request.\\n  \")]):_vm._e(),_vm._v(\" \"),(_vm.items.length > 0)?_c('table',{staticClass:\"rbl-table\"},[_vm._m(1),_vm._v(\" \"),_vm._l((_vm.items),function(item){return _c('tr',[_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.selected),expression:\"item.selected\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(item.selected)?_vm._i(item.selected,null)>-1:(item.selected)},on:{\"__c\":function($event){var $$a=item.selected,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(item.selected=$$a.concat([$$v]))}else{$$i>-1&&(item.selected=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{item.selected=$$c}}}})]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.Product_Code__c)+_vm._s(item.Item_Number_Edit__c))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.Type === 'Custom' ? item.Name : '')+_vm._s(item.Type === 'Standardized' ? item.Product_Description__c : ''))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.Type))])])})],2):_vm._e(),_vm._v(\" \"),_c('button',{staticClass:\"rbl-btn rbl-btn-primary\",attrs:{\"disabled\":!_vm.isFormValid},on:{\"click\":_vm.save}},[_vm._v(\"Save\")]),_vm._v(\" \"),_c('button',{staticClass:\"rbl-btn rbl-btn-primary\",on:{\"click\":_vm.toDesignRequest}},[_vm._v(\"Cancel\")])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th'),_vm._v(\" \"),_c('th',[_vm._v(\"Artwork\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Option #\")]),_vm._v(\" \"),_c('th',{staticClass:\"needs-pricing\"},[_vm._v(\"Needs Pricing\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Notes\")]),_vm._v(\" \"),_c('th')])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"Use\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Item\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Name\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Type\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"M93x\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__ = __webpack_require__(\"xJD8\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_7dd0b06b_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__ = __webpack_require__(\"B04Q\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"gVh2\")\n  __webpack_require__(\"y95g\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7dd0b06b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_7dd0b06b_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"NHnr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"7+uW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(\"M93x\");\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\n/* eslint-disable no-new */\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App__[\"a\" /* default */] }\n});\n\n/***/ }),\n\n/***/ \"PRAX\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",class:{ dragging: _vm.isDragOver},on:{\"dragover\":_vm.dragOver,\"drop\":_vm.drop,\"dragenter\":_vm.dragEnter,\"dragleave\":_vm.dragLeave}},[_c('div',{staticClass:\"inner\"},[_vm._v(\"Drop Design Images Here\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"QevY\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(\"mvHQ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator__ = __webpack_require__(\"BO1k\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__ = __webpack_require__(\"Zrlr\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__ = __webpack_require__(\"wxAW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_axios__ = __webpack_require__(\"mtWM\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_axios__);\n\n\n\n\n\n\nvar DataService = function () {\n  function DataService(sessionId) {\n    __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default()(this, DataService);\n\n    this.sessionId = null;\n  }\n\n  __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default()(DataService, [{\n    key: 'setSessionId',\n    value: function setSessionId(id) {\n      this.baseURL = '/services/data/v40.0/';\n      this.sessionId = id;\n      this.axiosInstance = __WEBPACK_IMPORTED_MODULE_4_axios___default.a.create({\n        baseURL: this.baseURL,\n        headers: {\n          'Authorization': 'Bearer ' + this.sessionId\n        }\n      });\n    }\n  }, {\n    key: 'getDesignRequest',\n    value: function getDesignRequest(id) {\n      console.log('this.sessionId ' + this.sessionId);\n      var query = 'query/?q=\\n    SELECT Name\\n      , (SELECT Id, Name, Product_Code__c, Product_Name__c, Product_Description__c\\n        FROM Standardized_Items__r\\n        ORDER BY CreatedDate ASC)\\n      , (SELECT Id, Name, Item_Number_Edit__c FROM Custom_Items__r  ORDER BY CreatedDate ASC)\\n    FROM Design_Request__c WHERE Id = \\'' + id + '\\'';\n      return this.axiosInstance.get(query).then(function (result) {\n        return result.data.records[0];\n      });\n    }\n  }, {\n    key: 'getMetadata',\n    value: function getMetadata(objectName) {\n      var query = 'sobjects/' + objectName + '/describe/';\n      return this.axiosInstance.get(query).then(function (result) {\n        return result.data;\n      });\n    }\n  }, {\n    key: 'getContentDocumentLinksByLinkedEntityIds',\n    value: function getContentDocumentLinksByLinkedEntityIds(ids) {\n      var explodedIds = ids.map(function (x) {\n        return '\\'' + x + '\\'';\n      }).join(',');\n      var query = 'query/?q=\\n    SELECT Id, LinkedEntityId, ContentDocumentId, ContentDocument.LatestPublishedVersionId\\n    FROM ContentDocumentLink WHERE LinkedEntityId IN (' + explodedIds + ')';\n      return this.axiosInstance.get(query).then(function (result) {\n        return result.data.records;\n      });\n    }\n  }, {\n    key: 'createDesigns',\n    value: function createDesigns(designRequestId, designs, version, gender, items) {\n      var _this = this;\n\n      var contentVersionPromises = [];\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator___default()(designs), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var design = _step.value;\n\n          var file = design.file;\n          var formData = new FormData();\n          formData.append('entity_content', new Blob([__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()({ 'PathOnClient': file.name })], { type: 'application/json' }), '');\n          formData.append('VersionData', file);\n          contentVersionPromises.push(this.axiosInstance.post('sobjects/ContentVersion', formData));\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return __WEBPACK_IMPORTED_MODULE_4_axios___default.a.all(contentVersionPromises).then(function (results) {\n        for (var i = 0; i < results.length; i++) {\n          designs[i].contentVersionId = results[i].data.id;\n        }\n      }).then(function () {\n        var query = 'query/?q=SELECT Id, ContentDocumentId FROM ContentVersion WHERE Id IN (' + designs.map(function (d) {\n          return '\\'' + d.contentVersionId + '\\'';\n        }).join(',') + ')';\n        return _this.axiosInstance.get(query);\n      }).then(function (result) {\n        result.data.records.forEach(function (record) {\n          designs.filter(function (design) {\n            return design.contentVersionId === record.Id;\n          }).forEach(function (design) {\n            design.ContentDocumentId = record.ContentDocumentId;\n          });\n        });\n      }).then(function () {\n        var query = 'query/?q=SELECT Id FROM Design_Round__c WHERE Design_Request__c =\\n        \\'' + designRequestId + '\\' AND Version__c = \\'' + version + '\\' AND Gender__c = \\'' + gender + '\\'';\n        return _this.axiosInstance.get(query).then(function (response) {\n          var designRoundId = null;\n          if (response.data.totalSize > 0) {\n            designRoundId = response.data.records[0].Id;\n            return _this.createDesigns2(designRoundId, designRequestId, designs, items);\n          } else {\n            var designRound = {\n              attributes: { type: 'Design_Round__c', referenceId: 'designRound1' },\n              Version__c: version,\n              Gender__c: gender,\n              Design_Request__c: designRequestId\n            };\n            return _this.axiosInstance.post('sobjects/Design_Round__c', designRound).then(function (response) {\n              designRoundId = response.data.id;\n              return _this.createDesigns2(designRoundId, designRequestId, designs, items);\n            });\n          }\n        });\n      });\n    }\n  }, {\n    key: 'createDesigns2',\n    value: function createDesigns2(designRoundId, designRequestId, designs, items) {\n      var _this2 = this;\n\n      var requests = [];\n      var compositeRequest = {\n        compositeRequest: requests\n      };\n\n      var _loop = function _loop(design) {\n        requests.push({\n          method: 'POST',\n          url: _this2.baseURL + 'sobjects/Design__c',\n          referenceId: 'design' + design.contentVersionId,\n          body: {\n            Design_Request__c: designRequestId,\n            Design_Round__c: designRoundId,\n            Option_Number__c: design.Option_Number__c,\n            Needs_Pricing__c: design.Needs_Pricing__c,\n            Notes__c: design.Notes__c,\n            Content_Version_Id__c: design.contentVersionId\n          }\n        });\n\n        requests.push({\n          method: 'POST',\n          url: _this2.baseURL + 'sobjects/ContentDocumentLink',\n          referenceId: 'cdl' + design.contentVersionId,\n          body: {\n            LinkedEntityId: '@{design' + design.contentVersionId + '.id}',\n            ContentDocumentId: design.ContentDocumentId,\n            ShareType: 'I'\n          }\n        });\n\n        items.forEach(function (item) {\n          var body = {\n            Design__c: '@{design' + design.contentVersionId + '.id}'\n          };\n          if (item.Type === 'Custom') {\n            body.Custom_Item__c = item.Id;\n          } else {\n            body.Standardized_Item__c = item.Id;\n          }\n          requests.push({\n            method: 'POST',\n            url: _this2.baseURL + 'sobjects/Design_Item__c',\n            referenceId: '' + item.Id + design.contentVersionId,\n            body: body\n          });\n        });\n      };\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator___default()(designs), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var design = _step2.value;\n\n          _loop(design);\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      return this.axiosInstance.post('composite', compositeRequest);\n    }\n  }]);\n\n  return DataService;\n}();\n\nvar instance = new DataService();\n/* harmony default export */ __webpack_exports__[\"a\"] = (instance);\n\n/***/ }),\n\n/***/ \"RQw1\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    return {\n      files: [],\n      isDragOver: false\n    };\n  },\n\n  methods: {\n    dragOver: function dragOver(ev) {\n      ev.preventDefault();\n      ev.dataTransfer.dropEffect = 'move';\n    },\n    dragEnter: function dragEnter(ev) {\n      this.isDragOver = true;\n    },\n    dragLeave: function dragLeave(ev) {\n      this.isDragOver = false;\n    },\n    drop: function drop(ev) {\n      this.isDragOver = false;\n      this.$emit('fileDropped', ev.dataTransfer.files[0]);\n      ev.preventDefault();\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"b3z3\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"bb2J\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"gVh2\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"kBMt\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"windows8\"},[_c('div',{staticClass:\"wBall\",attrs:{\"id\":\"wBall_1\"}},[_c('div',{staticClass:\"wInnerBall\"})]),_vm._v(\" \"),_c('div',{staticClass:\"wBall\",attrs:{\"id\":\"wBall_2\"}},[_c('div',{staticClass:\"wInnerBall\"})]),_vm._v(\" \"),_c('div',{staticClass:\"wBall\",attrs:{\"id\":\"wBall_3\"}},[_c('div',{staticClass:\"wInnerBall\"})]),_vm._v(\" \"),_c('div',{staticClass:\"wBall\",attrs:{\"id\":\"wBall_4\"}},[_c('div',{staticClass:\"wInnerBall\"})]),_vm._v(\" \"),_c('div',{staticClass:\"wBall\",attrs:{\"id\":\"wBall_5\"}},[_c('div',{staticClass:\"wInnerBall\"})])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"rwPc\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__node_modules_vue_loader_lib_template_compiler_index_id_data_v_fa684fea_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_LoadingAnimation_vue__ = __webpack_require__(\"kBMt\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"bb2J\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\nvar __vue_script__ = null\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-fa684fea\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __WEBPACK_IMPORTED_MODULE_0__node_modules_vue_loader_lib_template_compiler_index_id_data_v_fa684fea_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_LoadingAnimation_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"vg0r\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_DropZone_vue__ = __webpack_require__(\"RQw1\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_fc88e9c4_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_DropZone_vue__ = __webpack_require__(\"PRAX\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"b3z3\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-fc88e9c4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_DropZone_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_fc88e9c4_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_DropZone_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"xJD8\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__ = __webpack_require__(\"BO1k\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__services_data__ = __webpack_require__(\"QevY\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_DropZone__ = __webpack_require__(\"vg0r\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_LoadingAnimation__ = __webpack_require__(\"rwPc\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'app',\n  data: function data() {\n    return {\n      designRequestId: '',\n      designRequestName: '',\n      versions: [{ label: '-- select --', value: '' }],\n      designs: [],\n      items: [],\n      imgBaseUrl: 'https://c.cs52.content.force.com/sfc/servlet.shepherd/version/download/',\n      isUploading: false,\n      itemsLoaded: false,\n      version: '',\n      gender: ''\n    };\n  },\n\n  methods: {\n    addFile: function addFile(file) {\n      var _this = this;\n\n      var reader = new FileReader();\n      reader.addEventListener('load', function () {\n        console.log('done reading');\n        _this.designs.push({\n          dataURL: reader.result,\n          file: file,\n          Option_Number__c: null,\n          Needs_Pricing__c: true,\n          Notes__c: null\n        });\n      });\n      reader.readAsDataURL(file);\n    },\n    deleteDesign: function deleteDesign(design) {\n      this.designs.splice(this.designs.indexOf(design), 1);\n    },\n    getDesignRequest: function getDesignRequest() {\n      var _this2 = this;\n\n      __WEBPACK_IMPORTED_MODULE_1__services_data__[\"a\" /* default */].getDesignRequest(this.designRequestId).then(function (record) {\n        _this2.designRequestName = record.Name;\n        var designIds = [];\n        _this2.designs = [];\n        if (!_this2.itemsLoaded && record.Custom_Items__r !== null) {\n          var _iteratorNormalCompletion = true;\n          var _didIteratorError = false;\n          var _iteratorError = undefined;\n\n          try {\n            for (var _iterator = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(record.Custom_Items__r.records), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n              var item = _step.value;\n\n              item.Type = 'Custom';\n              item.selected = false;\n              _this2.items.push(item);\n            }\n          } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion && _iterator.return) {\n                _iterator.return();\n              }\n            } finally {\n              if (_didIteratorError) {\n                throw _iteratorError;\n              }\n            }\n          }\n        }\n        if (!_this2.itemsLoaded && record.Standardized_Items__r !== null) {\n          var _iteratorNormalCompletion2 = true;\n          var _didIteratorError2 = false;\n          var _iteratorError2 = undefined;\n\n          try {\n            for (var _iterator2 = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(record.Standardized_Items__r.records), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n              var _item = _step2.value;\n\n              _item.Type = 'Standardized';\n              _item.selected = false;\n              _this2.items.push(_item);\n            }\n          } catch (err) {\n            _didIteratorError2 = true;\n            _iteratorError2 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                _iterator2.return();\n              }\n            } finally {\n              if (_didIteratorError2) {\n                throw _iteratorError2;\n              }\n            }\n          }\n        }\n        _this2.itemsLoaded = true;\n        if (designIds.length > 0) {\n          __WEBPACK_IMPORTED_MODULE_1__services_data__[\"a\" /* default */].getContentDocumentLinksByLinkedEntityIds(designIds).then(function (records) {\n            console.log(records);\n            var contentVersionIdByDesignId = {};\n            var _iteratorNormalCompletion3 = true;\n            var _didIteratorError3 = false;\n            var _iteratorError3 = undefined;\n\n            try {\n              for (var _iterator3 = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(records), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                var _record = _step3.value;\n\n                contentVersionIdByDesignId[_record.LinkedEntityId] = _record.ContentDocument.LatestPublishedVersionId;\n              }\n            } catch (err) {\n              _didIteratorError3 = true;\n              _iteratorError3 = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                  _iterator3.return();\n                }\n              } finally {\n                if (_didIteratorError3) {\n                  throw _iteratorError3;\n                }\n              }\n            }\n\n            var _iteratorNormalCompletion4 = true;\n            var _didIteratorError4 = false;\n            var _iteratorError4 = undefined;\n\n            try {\n              for (var _iterator4 = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(_this2.designs), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n                var design = _step4.value;\n\n                design.imgUrl = _this2.imgBaseUrl + contentVersionIdByDesignId[design.Id];\n                console.log(design.imgUrl);\n              }\n            } catch (err) {\n              _didIteratorError4 = true;\n              _iteratorError4 = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion4 && _iterator4.return) {\n                  _iterator4.return();\n                }\n              } finally {\n                if (_didIteratorError4) {\n                  throw _iteratorError4;\n                }\n              }\n            }\n          });\n        }\n      });\n    },\n    save: function save() {\n      var _this3 = this;\n\n      var selectedItems = this.items.filter(function (item) {\n        return item.selected;\n      });\n      this.isUploading = true;\n      __WEBPACK_IMPORTED_MODULE_1__services_data__[\"a\" /* default */].createDesigns(this.designRequestId, this.designs, this.version, this.gender, selectedItems).then(function (result) {\n        console.log(result.data);\n        var success = true;\n        var _iteratorNormalCompletion5 = true;\n        var _didIteratorError5 = false;\n        var _iteratorError5 = undefined;\n\n        try {\n          for (var _iterator5 = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(result.data.compositeResponse), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n            var r = _step5.value;\n\n            if (!r.body.success) {\n              success = false;\n              console.log(r.body.errors);\n              alert(r.body.errors[0]);\n            }\n          }\n        } catch (err) {\n          _didIteratorError5 = true;\n          _iteratorError5 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion5 && _iterator5.return) {\n              _iterator5.return();\n            }\n          } finally {\n            if (_didIteratorError5) {\n              throw _iteratorError5;\n            }\n          }\n        }\n\n        _this3.isUploading = false;\n        if (success) {\n          _this3.toDesignRequest();\n        }\n      });\n    },\n    toDesignRequest: function toDesignRequest() {\n      window.location = '/' + this.designRequestId;\n    }\n  },\n  computed: {\n    isFormValid: function isFormValid() {\n      return !!this.version && !!this.gender && this.designs.length > 0 && this.designs.reduce(function (accum, design) {\n        return accum && !!design.Option_Number__c;\n      }, true) && this.items.filter(function (i) {\n        return i.selected;\n      }).length > 0;\n    }\n  },\n  components: { DropZone: __WEBPACK_IMPORTED_MODULE_2__components_DropZone__[\"a\" /* default */], LoadingAnimation: __WEBPACK_IMPORTED_MODULE_3__components_LoadingAnimation__[\"a\" /* default */] },\n  created: function created() {\n    var _this4 = this;\n\n    // hard code these for local testing\n    // dataService.setSessionId('00D5B000000DIca!AREAQG_E9HLKJ75S816UbXX_5cOUs5AlcJSv0iaMqYFO_GNa7lwZPiBVMpjZun9Llu_xqtA439kmn6RtpBfI672e72GqgePu')\n    // this.designRequestId = 'a095B000003Hi7e'\n\n    if (!__WEBPACK_IMPORTED_MODULE_1__services_data__[\"a\" /* default */].sessionId) {\n      __WEBPACK_IMPORTED_MODULE_1__services_data__[\"a\" /* default */].setSessionId(window.__sfdcSessionId);\n    }\n    if (!this.designRequestId) {\n      this.designRequestId = getParameterByName('id');\n    }\n    this.getDesignRequest(this.designRequestId);\n    __WEBPACK_IMPORTED_MODULE_1__services_data__[\"a\" /* default */].getMetadata('Design_Round__c').then(function (data) {\n      _this4.statuses = data.fields.filter(function (field) {\n        return field.name === 'Version__c';\n      })[0].picklistValues.filter(function (pl) {\n        return pl.active;\n      }).forEach(function (item) {\n        _this4.versions.push({ label: item.label, value: item.value });\n      });\n    });\n  }\n});\n\nfunction getParameterByName(name, url) {\n  if (!url) url = window.location.href;\n  name = name.replace(/[[]]/g, '\\\\$&');\n  //  name = name.replace(/[\\[\\]]/g, \"\\\\$&\")\n  var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)');\n  var results = regex.exec(url);\n  if (!results) return null;\n  if (!results[2]) return '';\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n}\n\n/***/ }),\n\n/***/ \"y95g\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n},[\"NHnr\"]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('LoadingAnimation',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isUploading),expression:\"isUploading\"}]}),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_c('small',[_vm._v(\"Upload Designs\")]),_vm._v(\"Design Request: \"+_vm._s(_vm.designRequestName))]),_vm._v(\" \"),_c('div',{staticClass:\"gender-version\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"version\"}},[_vm._v(\"Version\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.version),expression:\"version\"}],staticClass:\"form-control\",attrs:{\"id\":\"version\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.version=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.versions),function(version){return _c('option',{domProps:{\"value\":version.value}},[_vm._v(_vm._s(version.label))])}))]),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"version\"}},[_vm._v(\"Gender\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.gender),expression:\"gender\"}],staticClass:\"form-control\",attrs:{\"id\":\"version\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.gender=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"-- select --\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"Boy\"}},[_vm._v(\"Boy\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"Girl\"}},[_vm._v(\"Girl\")])])])]),_vm._v(\" \"),_c('DropZone',{on:{\"fileDropped\":_vm.addFile}}),_vm._v(\" \"),_c('div',{staticClass:\"section-heading\"},[_vm._v(\"Designs\")]),_vm._v(\" \"),(_vm.designs.length === 0)?_c('div',{staticClass:\"empty-table-surrogate\"},[_vm._v(\"\\n    There are no designs yet.\\n  \")]):_vm._e(),_vm._v(\" \"),(_vm.designs.length > 0)?_c('table',{staticClass:\"rbl-table\"},[_vm._m(0),_vm._v(\" \"),_vm._l((_vm.designs),function(design){return _c('tr',[_c('td',[_vm._v(_vm._s(design.Name))]),_vm._v(\" \"),_c('td',[_c('img',{attrs:{\"height\":\"300px\",\"src\":design.dataURL}})]),_vm._v(\" \"),_c('td',{staticClass:\"option-number\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(design.Option_Number__c),expression:\"design.Option_Number__c\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\"},domProps:{\"value\":(design.Option_Number__c)},on:{\"input\":function($event){if($event.target.composing){ return; }design.Option_Number__c=$event.target.value}}})]),_vm._v(\" \"),_c('td',{staticClass:\"needs-pricing\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(design.Needs_Pricing__c),expression:\"design.Needs_Pricing__c\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(design.Needs_Pricing__c)?_vm._i(design.Needs_Pricing__c,null)>-1:(design.Needs_Pricing__c)},on:{\"__c\":function($event){var $$a=design.Needs_Pricing__c,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(design.Needs_Pricing__c=$$a.concat([$$v]))}else{$$i>-1&&(design.Needs_Pricing__c=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{design.Needs_Pricing__c=$$c}}}})]),_vm._v(\" \"),_c('td',[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(design.Notes__c),expression:\"design.Notes__c\"}],staticClass:\"form-control\",domProps:{\"value\":(design.Notes__c)},on:{\"input\":function($event){if($event.target.composing){ return; }design.Notes__c=$event.target.value}}})]),_vm._v(\" \"),_c('td',[_c('button',{staticClass:\"rbl-btn rbl-btn-primary\",on:{\"click\":function($event){_vm.deleteDesign(design)}}},[_vm._v(\"Delete\")])])])})],2):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"section-heading\"},[_vm._v(\"Items\")]),_vm._v(\" \"),(_vm.items.length === 0)?_c('div',{staticClass:\"empty-table-surrogate\"},[_vm._v(\"\\n    There are no items on the Design Request.\\n  \")]):_vm._e(),_vm._v(\" \"),(_vm.items.length > 0)?_c('table',{staticClass:\"rbl-table\"},[_vm._m(1),_vm._v(\" \"),_vm._l((_vm.items),function(item){return _c('tr',[_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.selected),expression:\"item.selected\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(item.selected)?_vm._i(item.selected,null)>-1:(item.selected)},on:{\"__c\":function($event){var $$a=item.selected,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(item.selected=$$a.concat([$$v]))}else{$$i>-1&&(item.selected=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{item.selected=$$c}}}})]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.Product_Code__c)+_vm._s(item.Item_Number_Edit__c))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.Type === 'Custom' ? item.Name : '')+_vm._s(item.Type === 'Standardized' ? item.Product_Description__c : ''))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.Type))])])})],2):_vm._e(),_vm._v(\" \"),_c('button',{staticClass:\"rbl-btn rbl-btn-primary\",attrs:{\"disabled\":!_vm.isFormValid},on:{\"click\":_vm.save}},[_vm._v(\"Save\")]),_vm._v(\" \"),_c('button',{staticClass:\"rbl-btn rbl-btn-primary\",on:{\"click\":_vm.toDesignRequest}},[_vm._v(\"Cancel\")])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th'),_vm._v(\" \"),_c('th',[_vm._v(\"Artwork\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Option #\")]),_vm._v(\" \"),_c('th',{staticClass:\"needs-pricing\"},[_vm._v(\"Needs Pricing\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Notes\")]),_vm._v(\" \"),_c('th')])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"Use\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Item\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Name\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Type\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-7dd0b06b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = B04Q\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7dd0b06b\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!./scss/styles.scss\")\n  require(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7dd0b06b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=1!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7dd0b06b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7dd0b06b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = M93x\n// module chunks = 1","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",class:{ dragging: _vm.isDragOver},on:{\"dragover\":_vm.dragOver,\"drop\":_vm.drop,\"dragenter\":_vm.dragEnter,\"dragleave\":_vm.dragLeave}},[_c('div',{staticClass:\"inner\"},[_vm._v(\"Drop Design Images Here\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-fc88e9c4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/DropZone.vue\n// module id = PRAX\n// module chunks = 1","import axios from 'axios'\n\nclass DataService {\n  constructor (sessionId) {\n    this.sessionId = null\n  }\n\n  setSessionId (id) {\n    this.baseURL = '/services/data/v40.0/'\n    this.sessionId = id\n    this.axiosInstance = axios.create({\n      baseURL: this.baseURL,\n      headers: {\n        'Authorization': 'Bearer ' + this.sessionId\n      }\n    })\n  }\n\n  getDesignRequest (id) {\n    console.log(`this.sessionId ${this.sessionId}`)\n    const query = `query/?q=\n    SELECT Name\n      , (SELECT Id, Name, Product_Code__c, Product_Name__c, Product_Description__c\n        FROM Standardized_Items__r\n        ORDER BY CreatedDate ASC)\n      , (SELECT Id, Name, Item_Number_Edit__c FROM Custom_Items__r  ORDER BY CreatedDate ASC)\n    FROM Design_Request__c WHERE Id = '${id}'`\n    return this.axiosInstance.get(query)\n      .then((result) => {\n        return result.data.records[0]\n      })\n  }\n\n  getMetadata (objectName) {\n    const query = `sobjects/${objectName}/describe/`\n    return this.axiosInstance.get(query).then((result) => result.data)\n  }\n\n  getContentDocumentLinksByLinkedEntityIds (ids) {\n    const explodedIds = ids.map((x) => `'${x}'`).join(',')\n    const query = `query/?q=\n    SELECT Id, LinkedEntityId, ContentDocumentId, ContentDocument.LatestPublishedVersionId\n    FROM ContentDocumentLink WHERE LinkedEntityId IN (${explodedIds})`\n    return this.axiosInstance.get(query)\n      .then((result) => {\n        return result.data.records\n      })\n  }\n\n  createDesigns (designRequestId, designs, version, gender, items) {\n    let contentVersionPromises = []\n    for (let design of designs) {\n      let file = design.file\n      const formData = new FormData()\n      formData.append('entity_content', new Blob([JSON.stringify({ 'PathOnClient': file.name })],\n        { type: 'application/json' }), '')\n      formData.append('VersionData', file)\n      contentVersionPromises.push(this.axiosInstance.post('sobjects/ContentVersion', formData))\n    }\n    return axios.all(contentVersionPromises).then((results) => {\n      for (let i = 0; i < results.length; i++) {\n        designs[i].contentVersionId = results[i].data.id\n      }\n    }).then(() => {\n      const query = 'query/?q=SELECT Id, ContentDocumentId FROM ContentVersion WHERE Id IN (' +\n        designs.map((d) => `'${d.contentVersionId}'`).join(',') + ')'\n      return this.axiosInstance.get(query)\n    }).then((result) => {\n      result.data.records.forEach((record) => {\n        designs\n          .filter((design) => design.contentVersionId === record.Id)\n          .forEach((design) => { design.ContentDocumentId = record.ContentDocumentId })\n      })\n    }).then(() => {\n      const query = `query/?q=SELECT Id FROM Design_Round__c WHERE Design_Request__c =\n        '${designRequestId}' AND Version__c = '${version}' AND Gender__c = '${gender}'`\n      return this.axiosInstance.get(query).then(response => {\n        let designRoundId = null\n        if (response.data.totalSize > 0) {\n          designRoundId = response.data.records[0].Id\n          return this.createDesigns2(designRoundId, designRequestId, designs, items)\n        } else {\n          let designRound = {\n            attributes: {type: 'Design_Round__c', referenceId: 'designRound1'},\n            Version__c: version,\n            Gender__c: gender,\n            Design_Request__c: designRequestId\n          }\n          return this.axiosInstance.post('sobjects/Design_Round__c', designRound).then(response => {\n            designRoundId = response.data.id\n            return this.createDesigns2(designRoundId, designRequestId, designs, items)\n          })\n        }\n      })\n    })\n  }\n\n  createDesigns2 (designRoundId, designRequestId, designs, items) {\n    let requests = []\n    let compositeRequest = {\n      compositeRequest: requests\n    }\n    for (let design of designs) {\n      requests.push({\n        method: 'POST',\n        url: this.baseURL + 'sobjects/Design__c',\n        referenceId: `design${design.contentVersionId}`,\n        body: {\n          Design_Request__c: designRequestId,\n          Design_Round__c: designRoundId,\n          Option_Number__c: design.Option_Number__c,\n          Needs_Pricing__c: design.Needs_Pricing__c,\n          Notes__c: design.Notes__c,\n          Content_Version_Id__c: design.contentVersionId\n        }\n      })\n\n      requests.push({\n        method: 'POST',\n        url: this.baseURL + 'sobjects/ContentDocumentLink',\n        referenceId: `cdl${design.contentVersionId}`,\n        body: {\n          LinkedEntityId: `@{design${design.contentVersionId}.id}`,\n          ContentDocumentId: design.ContentDocumentId,\n          ShareType: 'I'\n        }\n      })\n\n      items.forEach((item) => {\n        let body = {\n          Design__c: `@{design${design.contentVersionId}.id}`\n        }\n        if (item.Type === 'Custom') {\n          body.Custom_Item__c = item.Id\n        } else {\n          body.Standardized_Item__c = item.Id\n        }\n        requests.push({\n          method: 'POST',\n          url: this.baseURL + 'sobjects/Design_Item__c',\n          referenceId: `${item.Id}${design.contentVersionId}`,\n          body: body\n        })\n      })\n    }\n    return this.axiosInstance.post('composite', compositeRequest)\n  }\n}\n\nconst instance = new DataService()\nexport default instance\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/data.js","<template>\n  <div class=\"container\" :class=\"{ dragging: isDragOver}\" v-on:dragover=\"dragOver\" v-on:drop=\"drop\"\n       v-on:dragenter=\"dragEnter\" v-on:dragleave=\"dragLeave\">\n    <div class=\"inner\">Drop Design Images Here</div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      files: [],\n      isDragOver: false\n    }\n  },\n  methods: {\n    dragOver (ev) {\n      ev.preventDefault()\n      ev.dataTransfer.dropEffect = 'move'\n    },\n    dragEnter (ev) {\n      this.isDragOver = true\n    },\n    dragLeave (ev) {\n      this.isDragOver = false\n    },\n    drop (ev) {\n      this.isDragOver = false\n      this.$emit('fileDropped', ev.dataTransfer.files[0])\n      ev.preventDefault()\n    }\n  }\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n  border: 2px dashed #ccc;\n  background-color: #eee;\n  text-align: center;\n  width: 100%;\n  height: 100px;\n  position: relative;\n  margin-bottom: 20px;\n\n  &.dragging {\n    border-color: blue;\n  }\n}\n\n.inner {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// DropZone.vue?78c8c80a","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"windows8\"},[_c('div',{staticClass:\"wBall\",attrs:{\"id\":\"wBall_1\"}},[_c('div',{staticClass:\"wInnerBall\"})]),_vm._v(\" \"),_c('div',{staticClass:\"wBall\",attrs:{\"id\":\"wBall_2\"}},[_c('div',{staticClass:\"wInnerBall\"})]),_vm._v(\" \"),_c('div',{staticClass:\"wBall\",attrs:{\"id\":\"wBall_3\"}},[_c('div',{staticClass:\"wInnerBall\"})]),_vm._v(\" \"),_c('div',{staticClass:\"wBall\",attrs:{\"id\":\"wBall_4\"}},[_c('div',{staticClass:\"wInnerBall\"})]),_vm._v(\" \"),_c('div',{staticClass:\"wBall\",attrs:{\"id\":\"wBall_5\"}},[_c('div',{staticClass:\"wInnerBall\"})])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-fa684fea\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/LoadingAnimation.vue\n// module id = kBMt\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fa684fea\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./LoadingAnimation.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nvar __vue_script__ = null\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fa684fea\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./LoadingAnimation.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-fa684fea\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/LoadingAnimation.vue\n// module id = rwPc\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fc88e9c4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./DropZone.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./DropZone.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fc88e9c4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./DropZone.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-fc88e9c4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/DropZone.vue\n// module id = vg0r\n// module chunks = 1","<template>\n  <div id=\"app\">\n    <LoadingAnimation v-show=\"isUploading\"></LoadingAnimation>\n\n    <div class=\"title\"><small>Upload Designs</small>Design Request: {{ designRequestName }}</div>\n\n    <div class=\"gender-version\">\n      <div class=\"form-group\">\n        <label for=\"version\">Version</label>\n        <select v-model=\"version\" class=\"form-control\" id=\"version\">\n          <option v-for=\"version in versions\" :value=\"version.value\">{{ version.label }}</option>\n        </select>\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"version\">Gender</label>\n        <select v-model=\"gender\" class=\"form-control\" id=\"version\">\n          <option value=\"\">-- select --</option>\n          <option value=\"Boy\">Boy</option>\n          <option value=\"Girl\">Girl</option>\n        </select>\n      </div>\n    </div>\n\n    <DropZone v-on:fileDropped=\"addFile\"></DropZone>\n\n    <div class=\"section-heading\">Designs</div>\n    <div v-if=\"designs.length === 0\" class=\"empty-table-surrogate\">\n      There are no designs yet.\n    </div>\n    <table v-if=\"designs.length > 0\" class=\"rbl-table\">\n      <thead>\n        <tr>\n          <th></th>\n          <th>Artwork</th>\n          <th>Option #</th>\n          <th class=\"needs-pricing\">Needs Pricing</th>\n          <th>Notes</th>\n          <th></th>\n        </tr>\n      </thead>\n      <tr v-for=\"design in designs\">\n        <td>{{design.Name}}</td>\n        <td><img height=\"300px\"  :src=\"design.dataURL\"></td>\n        <td class=\"option-number\"><input v-model=\"design.Option_Number__c\" class=\"form-control\"\n          type=\"number\"></td>\n        <td class=\"needs-pricing\"><input v-model=\"design.Needs_Pricing__c\" class=\"form-check-input\"\n          type=\"checkbox\"></td>\n        <td><textarea v-model=\"design.Notes__c\" class=\"form-control\"></textarea></td>\n        <td><button @click=\"deleteDesign(design)\" class=\"rbl-btn rbl-btn-primary\">Delete</button></td>\n      </tr>\n    </table>\n\n    <div class=\"section-heading\">Items</div>\n    <div v-if=\"items.length === 0\" class=\"empty-table-surrogate\">\n      There are no items on the Design Request.\n    </div>\n    <table v-if=\"items.length > 0\" class=\"rbl-table\">\n      <thead>\n      <tr>\n        <th>Use</th>\n        <th>Item</th>\n        <th>Name</th>\n        <th>Type</th>\n      </tr>\n      </thead>\n      <tr v-for=\"item in items\">\n        <td><input v-model=\"item.selected\" type=\"checkbox\" ></td>\n        <td>{{ item.Product_Code__c }}{{ item.Item_Number_Edit__c }}</td>\n        <td>{{ item.Type === 'Custom' ? item.Name : '' }}{{ item.Type === 'Standardized' ? item.Product_Description__c : '' }}</td>\n        <td>{{ item.Type }}</td>\n      </tr>\n    </table>\n\n    <button @click=\"save\" :disabled=\"!isFormValid\" class=\"rbl-btn rbl-btn-primary\">Save</button>\n    <button @click=\"toDesignRequest\" class=\"rbl-btn rbl-btn-primary\">Cancel</button>\n\n  </div>\n</template>\n\n<script>\nimport dataService from '@/services/data'\nimport DropZone from './components/DropZone'\nimport LoadingAnimation from './components/LoadingAnimation'\n\nexport default {\n  name: 'app',\n  data () {\n    return {\n      designRequestId: '',\n      designRequestName: '',\n      versions: [{ label: '-- select --', value: '' }],\n      designs: [],\n      items: [],\n      imgBaseUrl: 'https://c.cs52.content.force.com/sfc/servlet.shepherd/version/download/',\n      isUploading: false,\n      itemsLoaded: false,\n      version: '',\n      gender: ''\n    }\n  },\n  methods: {\n    addFile (file) {\n      let reader = new FileReader()\n      reader.addEventListener('load', () => {\n        console.log('done reading')\n        this.designs.push({\n          dataURL: reader.result,\n          file: file,\n          Option_Number__c: null,\n          Needs_Pricing__c: true,\n          Notes__c: null\n        })\n      })\n      reader.readAsDataURL(file)\n    },\n\n    deleteDesign (design) {\n      this.designs.splice(this.designs.indexOf(design), 1)\n    },\n\n    getDesignRequest () {\n      dataService.getDesignRequest(this.designRequestId).then((record) => {\n        this.designRequestName = record.Name\n        const designIds = []\n        this.designs = []\n        if (!this.itemsLoaded && record.Custom_Items__r !== null) {\n          for (let item of record.Custom_Items__r.records) {\n            item.Type = 'Custom'\n            item.selected = false\n            this.items.push(item)\n          }\n        }\n        if (!this.itemsLoaded && record.Standardized_Items__r !== null) {\n          for (let item of record.Standardized_Items__r.records) {\n            item.Type = 'Standardized'\n            item.selected = false\n            this.items.push(item)\n          }\n        }\n        this.itemsLoaded = true\n        if (designIds.length > 0) {\n          dataService.getContentDocumentLinksByLinkedEntityIds(designIds).then((records) => {\n            console.log(records)\n            const contentVersionIdByDesignId = {}\n            for (const record of records) {\n              contentVersionIdByDesignId[record.LinkedEntityId] =\n                record.ContentDocument.LatestPublishedVersionId\n            }\n            for (const design of this.designs) {\n              design.imgUrl = this.imgBaseUrl + contentVersionIdByDesignId[design.Id]\n              console.log(design.imgUrl)\n            }\n          })\n        }\n      })\n    },\n    save () {\n      let selectedItems = this.items.filter((item) => item.selected)\n      this.isUploading = true\n      dataService.createDesigns(this.designRequestId, this.designs, this.version, this.gender,\n        selectedItems)\n      .then((result) => {\n        console.log(result.data)\n        let success = true\n        for (const r of result.data.compositeResponse) {\n          if (!r.body.success) {\n            success = false\n            console.log(r.body.errors)\n            alert(r.body.errors[0])\n          }\n        }\n        this.isUploading = false\n        if (success) {\n          this.toDesignRequest()\n        }\n      })\n    },\n    toDesignRequest () {\n      window.location = '/' + this.designRequestId\n    }\n  },\n  computed: {\n    isFormValid: function () {\n      return !!this.version &&\n        !!this.gender &&\n        this.designs.length > 0 &&\n        this.designs.reduce((accum, design) => accum && !!design.Option_Number__c, true) &&\n        this.items.filter(i => i.selected).length > 0\n    }\n  },\n  components: { DropZone, LoadingAnimation },\n  created () {\n    // hard code these for local testing\n    // dataService.setSessionId('00D5B000000DIca!AREAQG_E9HLKJ75S816UbXX_5cOUs5AlcJSv0iaMqYFO_GNa7lwZPiBVMpjZun9Llu_xqtA439kmn6RtpBfI672e72GqgePu')\n    // this.designRequestId = 'a095B000003Hi7e'\n\n    if (!dataService.sessionId) {\n      dataService.setSessionId(window.__sfdcSessionId)\n    }\n    if (!this.designRequestId) {\n      this.designRequestId = getParameterByName('id')\n    }\n    this.getDesignRequest(this.designRequestId)\n    dataService.getMetadata('Design_Round__c').then((data) => {\n      this.statuses = data.fields.filter((field) => field.name === 'Version__c')[0]\n        .picklistValues.filter((pl) => pl.active).forEach((item) => {\n          this.versions.push({ label: item.label, value: item.value })\n        })\n    })\n  }\n}\n\nfunction getParameterByName (name, url) {\n  if (!url) url = window.location.href\n  name = name.replace(/[[]]/g, '\\\\$&')\n//  name = name.replace(/[\\[\\]]/g, \"\\\\$&\")\n  var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)')\n  var results = regex.exec(url)\n  if (!results) return null\n  if (!results[2]) return ''\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '))\n}\n</script>\n\n<style lang=\"scss\" src=\"./scss/styles.scss\">\n</style>\n\n<style lang=\"scss\" scoped>\n#app {\n  .gender-version {\n    display: flex;\n  }\n\n  .gender-version > * {\n    padding-right: 20px;\n  }\n\n  .needs-pricing {\n    text-align: center;\n  }\n\n  .option-number input {\n    width: 4em;\n  }\n\n  .form-group select {\n    width: auto;\n  }\n\n  .rbl-table textarea.form-control {\n    width: 300px;\n    height: 4rem;\n  }\n\n  \n}\n</style>\n\n\n\n\n\n// WEBPACK FOOTER //\n// App.vue?1fa4ff6c"],"sourceRoot":""}